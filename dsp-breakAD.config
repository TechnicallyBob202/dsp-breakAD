# dsp-breakAD Configuration File
# This file drives what each module does and how aggressive it is
# Format: Key=Value (no spaces around =)

################################################################################
# Infrastructure Security Module
################################################################################

# Enable print spooler on Domain Controllers
InfrastructureSecurity_EnablePrintSpooler=true

# Add users to Schema Admins group (dangerous, but realistic)
InfrastructureSecurity_AddToSchemaAdmins=2

# Add users to Enterprise Admins group
InfrastructureSecurity_AddToEnterpriseAdmins=1

# Modify dSHeuristics for dangerous settings
# Enables: anonymous access, NSPI access, weak password operations
InfrastructureSecurity_ModifydSHeuristics=true

# Empty AdminSDHolder of all members (removes protection from privileged groups)
InfrastructureSecurity_WeakenAdminSDHolder=false

################################################################################
# Account Security Module
################################################################################

# Number of bad user accounts to create
AccountSecurity_BadUsersToCreate=5

# Create users with password never expires
AccountSecurity_IncludeNeverExpiringPasswords=true

# Create users with pre-auth disabled (AS-REP roasting vector)
AccountSecurity_IncludePreAuthDisabled=true

# Create users with weak Kerberos encryption (DES, RC4 only)
AccountSecurity_IncludeWeakEncryption=true

# Create users with unconstrained delegation
AccountSecurity_IncludeUnconstrainedDelegation=true

# Create users with constrained delegation to dangerous SPNs
AccountSecurity_IncludeConstrainedDelegation=true

# Create users with passwords in description or other fields
AccountSecurity_IncludeWeakPasswordStorage=true

# Create service accounts with high-risk properties
AccountSecurity_IncludeServiceAccountAbuse=true

################################################################################
# AD Delegation Module
################################################################################

# Grant bad actors dangerous delegation permissions
ADDelegation_GrantDangerousPermissions=true

# Create computers with unconstrained delegation
ADDelegation_IncludeComputerDelegation=true

# Modify ACLs on sensitive objects (Groups, Users container)
ADDelegation_ModifySensitiveACLs=true

# Grant reset password rights to non-admin users
ADDelegation_GrantResetPasswordRights=true

################################################################################
# Kerberos Security Module
################################################################################

# Create users/computers with DES encryption only
KerberosSecurity_IncludeDESEncryption=true

# Create users with RC4 encryption only
KerberosSecurity_IncludeRC4Encryption=true

# Create user with multiple weak encryption options
KerberosSecurity_IncludeMultipleWeakEncryptions=true

# Disable pre-auth on computer accounts
KerberosSecurity_DisableComputerPreAuth=true

# Create service principals with weak settings
KerberosSecurity_IncludeWeakSPNs=true

################################################################################
# Group Policy Security Module
################################################################################

# Weaken GPO link permissions at domain level
GroupPolicySecurity_WeakenDomainGPOPermissions=true

# Weaken GPO link permissions at DC OU level
GroupPolicySecurity_WeakenDCOUGPOPermissions=true

# Add dangerous users to Group Policy Creator Owners
GroupPolicySecurity_GrantGPOCreatorRights=true

# Modify default domain policy to weaken settings
GroupPolicySecurity_ModifyDefaultDomainPolicy=true

# Disable auditing on sensitive GPOs
GroupPolicySecurity_DisableGPOAuditing=false

################################################################################
# General Settings
################################################################################

# Enable dry-run mode (log changes but don't apply them)
DryRun=false

# Disable safety checks (NOT RECOMMENDED)
DisableSafetyChecks=false

# Target DSP score (informational only)
TargetDSPScore=60-70